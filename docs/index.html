<!DOCTYPE html>
<html>

<head>
    <title>JSON Data Display</title>
</head>

<body>
    <pre id="jsonDisplay"></pre>
    <script>
        async function fetchAndCombineJSON() {
            try {
                // Cargar ambos archivos JSON en paralelo
                const [responseOld, responseNew] = await Promise.all([
                    fetch('./comments_old.json'),
                    fetch('./comments.json')
                ]);

                if (!responseOld.ok || !responseNew.ok) {
                    throw new Error('Error al cargar uno de los archivos JSON');
                }

                const oldData = await responseOld.json();
                const newData = await responseNew.json();

                // Combinar los arrays de comentarios sin alterar su orden
                const combined = {
                    comments: [
                        ...(newData.comments || []),  // Primero los nuevos comentarios
                        ...(oldData.comments || [])   // Luego los viejos comentarios
                    ]
                };

                // Mostrar el JSON combinado de forma legible
                const jsonDisplay = document.getElementById('jsonDisplay');
                jsonDisplay.textContent = JSON.stringify(combined, null, 2);

            } catch (error) {
                console.error('Error combinando los JSON:', error);
            }
        }

        fetchAndCombineJSON();
    </script>
</body>

</html>
